{"version":3,"sources":["routes.js"],"names":["errors","require","module","exports","app","use","route","get","req","res","send","params","mpId","sendfile"],"mappings":"AAAA;;;;AAIA;;AAEA,IAAIA,SAASC,QAAQ,qBAAR,CAAb;;AAEAC,OAAOC,OAAP,GAAiB,UAASC,GAAT,EAAc;;AAE7B;AACAA,MAAIC,GAAJ,CAAQ,SAAR,EAAmBJ,QAAQ,cAAR,CAAnB;AACAG,MAAIC,GAAJ,CAAQ,SAAR,EAAmBJ,QAAQ,cAAR,CAAnB;AACAG,MAAIC,GAAJ,CAAQ,QAAR,EAAkBJ,QAAQ,aAAR,CAAlB;;AAEAG,MAAIE,KAAJ,CAAU,sBAAV,EAAkCC,GAAlC,CAAsC,UAASC,GAAT,EAAcC,GAAd,EAAkB;AACtDA,QAAIC,IAAJ,CAASF,IAAIG,MAAJ,CAAWC,IAApB;AACD,GAFD;;AAIA;AACAR,MAAIE,KAAJ,CAAU,0DAAV,EACEC,GADF,CACMP,OAAO,GAAP,CADN;;AAGAI,MAAIE,KAAJ,CAAU,OAAV,EAAmBC,GAAnB,CAAuB,UAASC,GAAT,EAAaC,GAAb,EAAiB;AACtCA,QAAII,QAAJ,CAAaT,IAAIG,GAAJ,CAAQ,SAAR,IAAqB,YAAlC;AACD,GAFD;AAGA;AACAH,MAAIE,KAAJ,CAAU,IAAV,EACGC,GADH,CACO,UAASC,GAAT,EAAcC,GAAd,EAAmB;AACtBA,QAAII,QAAJ,CAAaT,IAAIG,GAAJ,CAAQ,SAAR,IAAqB,aAAlC;AACD,GAHH;AAID,CAvBD","file":"routes.js","sourcesContent":["/**\n * Main application routes\n */\n\n'use strict';\n\nvar errors = require('./components/errors');\n\nmodule.exports = function(app) {\n\n  // Insert routes below\n  app.use('/config', require('./api/config'));\n  app.use('/qrcode', require('./api/qrcode'));\n  app.use('/audio', require('./api/audio'));\n\n  app.route('/MP_verify_:mpId.txt').get(function(req, res){\n    res.send(req.params.mpId);\n  })\n  \n  // All undefined asset or api routes should return a 404\n  app.route('/:url(api|auth|components|app|bower_components|assets)/*')\n   .get(errors[404]);\n\n  app.route('/page').get(function(req,res){\n    res.sendfile(app.get('appPath') + '/page.html');\n  });\n  // All other routes should redirect to the index.html\n  app.route('/*')\n    .get(function(req, res) {\n      res.sendfile(app.get('appPath') + '/index.html');\n    });\n};\n"],"sourceRoot":"/source/"}